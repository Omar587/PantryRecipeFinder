@model IEnumerable<RecipeFinder.Models.Recipe>

@{
    ViewData["Title"] = "Recipes";
}

<h1>Recipes</h1>

<div class="recipe-grid">
    @foreach (var recipe in Model)
    {
        <div class="recipe-card">
            <img src="@recipe.ImageUrl" alt="@recipe.Name" style="max-width:250px;" />
            <h3>@recipe.Name</h3>
            <p>
                <strong>Cuisine:</strong> @recipe.Cuisine <br />
                <strong>Difficulty:</strong> @recipe.Difficulty <br />
                <strong>Total Time:</strong> @recipe.TotalTime() min
            </p>
            <a asp-action="Details" asp-route-id="@recipe.Id">View Details â†’</a>
        </div>
    }
</div>

<nav aria-label="Page navigation" class="mt-4">
    <ul class="pagination justify-content-center">
        @if (ViewBag.TotalPages != null)
        {
            int totalPages = ViewBag.TotalPages;
            int currentPage = ViewBag.CurrentPage ?? 1;

            @for (int i = 1; i <= totalPages; i++)
            {
                <li class="page-item @(i == currentPage ? "active" : "")">
                    <a class="page-link" href="?page=@i">@i</a>
                </li>
            }
        }
    </ul>
</nav>